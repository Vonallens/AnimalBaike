<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.animal.mapper.AnimalInfoMapper">
	<!-- 自定义结果集 -->
	<resultMap type="AnimalInfo" id="animalInfoResultMap">
		<result property="animalId" column="animal_id" />
		<result property="animalType" column="animal_type" />
		<result property="animalName" column="animal_name" />
		<result property="animalEnglishName" column="animal_englishname" />
		<result property="animalRegion" column="animal_region" />
		<result property="animalFileId" column="animal_fileid" />
		<result property="animalDetails" column="animal_details" />
	</resultMap>
	<!-- 根据动物id获取动物信息 -->
	<select id="getAnimalInfoByAnimalId" parameterType="String" resultMap="animalInfoResultMap">
		select *
		from animal_info
		where animal_id=#{0}
	</select>
	<!-- 模糊搜索动物信息 -->
	<select id="seachAnimalByWords" parameterType="String" resultMap="animalInfoResultMap">
	select * 
	from animal_info 
	where (animal_type = #{0} or animal_name like CONCAT('%', #{0}, '%')  or animal_region like CONCAT('%', #{0}, '%'))
	and animal_status = 'animalstatus01'
	order by animal_name desc
	</select>
	<!--更新用户的密码 -->
<!-- 	<update id="updatePassword" parameterType="String"> -->
<!-- 		update -->
<!-- 		user_login -->
<!-- 		set user_password=#{2} -->
<!-- 		where user_id=#{0} and user_password=#{1} -->
<!-- 	</update> -->
	<!--重置用户的密码 -->
<!-- 	<update id="resetUserPassword" parameterType="String"> -->
<!-- 		update -->
<!-- 		user_login -->
<!-- 		set user_password="123456" -->
<!-- 		where user_id=#{0} -->
<!-- 	</update> -->
	<!--插入新的用户登录  -->
	<insert id="addNewAnimalInfo" parameterType="User">
		insert into
		animal_info(animal_id,animal_type,animal_name,animal_englishname)
		values(#{userId},#{userPassword},#{userIdentity},#{userRegitime})
	</insert>
</mapper>